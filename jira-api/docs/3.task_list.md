# タスクリスト

## 概要
このプロジェクトではJIRA APIクライアントライブラリを段階的に開発します。
TDD（Test-Driven Development）のRed-Green-Refactorサイクルに従って進めます。

## 進行状況の見方
- [x] 完了（Red）
- [x] 完了（Green）
- [x] 完了（Refactor）
- [ ] 未着手
- [ ] 進行中

## Phase 1: 基礎的なAPI構造（Week 1）

### 1.1 プロジェクトセットアップ
- [x] [完了] Cargo.tomlの作成
- [x] [完了] 基礎的な依存関係の設定（Cargo.toml）
- [x] [完了] エラーモジュールの設定（error.rs）
- [x] [完了] テストモジュールの設定

### 1.2 設定管理
- [x] [完了] JiraConfig構造体の定義
- [x] [完了] Auth列挙型の定義（Basic/Bearer）
- [x] [完了] JiraConfig::new()のテスト作成
- [x] [完了] JiraConfig::new()の実装
- [x] [完了] 無効な設定のエラーテスト
- [x] [完了] JiraConfig::from_env()の実装
- [x] [完了] 環境変数設定のテスト作成
- [x] [完了] 環境変数設定のエラーテスト

### 1.3 HTTPクライアント基盤
- [x] [完了] JiraClientの基礎構造
- [x] [完了] リクエスト送信のテスト
- [x] [完了] リクエスト送信の実装
- [x] [完了] HTTPエラー処理のテスト
- [x] [完了] HTTPエラー処理の実装
- [x] [完了] レスポンス解析のテスト
- [x] [完了] レスポンス解析の実装

## Phase 2: APIエンドポイント実装（Week 2-3）

### 2.1 データ型定義
- [x] [完了] Issue構造体の定義
- [x] [完了] Project構造体の定義
- [x] [完了] User構造体の定義
- [x] [完了] Priority構造体の定義
- [x] [完了] IssueType構造体の定義
- [x] [完了] Field構造体の定義
- [x] [完了] StatusCategory構造体の定義

### 2.2 検索API（/rest/api/3/search）
- [x] [完了] SearchParamsの定義
- [x] [完了] SearchResultの定義
- [x] [完了] search_issues()の基本テスト作成
- [x] [完了] search_issues()の実装
- [x] [完了] JQLクエリ処理のテスト
- [x] [完了] JQLクエリ処理の実装
- [x] [完了] ページネーションのテスト
- [x] [完了] ページネーションの実装
- [ ] [未着手] 統合テストの作成

### 2.3 プロジェクトAPI（/rest/api/3/project）
- [x] [完了] get_projects()の基本テスト作成
- [x] [完了] get_projects()の実装
- [ ] [未着手] プロジェクトフィルタリングのテスト
- [ ] [未着手] プロジェクトフィルタリングの実装

### 2.4 メタデータAPI
- [ ] [未着手] get_priorities()の実装
- [ ] [未着手] get_issue_types()の実装
- [ ] [未着手] get_fields()の実装
- [ ] [未着手] get_status_categories()の実装
- [ ] [未着手] search_users()の実装

## Phase 3: 同期機能（Week 4）

### 3.1 同期サービス
- [ ] [未着手] SyncService構造体の定義
- [ ] [未着手] SyncConfigの定義
- [ ] [未着手] SyncResultの定義
- [ ] [未着手] SyncStateの定義

### 3.2 時間ベースフィルタリング
- [ ] [未着手] TimeBasedFilterの定義
- [ ] [未着手] 時間指定JQLのテスト
- [ ] [未着手] 時間指定JQLの実装
- [ ] [未着手] 増分取得JQLのテスト
- [ ] [未着手] 増分取得JQLの実装

### 3.3 同期処理
- [ ] [未着手] sync_incremental()のテスト作成
- [ ] [未着手] 初回同期の実装テスト
- [ ] [未着手] 差分同期のテスト
- [ ] [未着手] 重複除外処理のテスト
- [ ] [未着手] sync_incremental()の実装
- [ ] [未着手] エラー処理の実装テスト

## Phase 4: データ永続化（Week 5）

### 4.1 データストア抽象化
- [ ] [未着手] PersistenceStoreトレイトの定義
- [ ] [未着手] IssueFilterの定義
- [ ] [未着手] FilterConfigの定義

### 4.2 JSONストア
- [ ] [未着手] JsonStoreの構造定義
- [ ] [未着手] save_issues()のテスト
- [ ] [未着手] save_issues()の実装
- [ ] [未着手] load_issues()のテスト
- [ ] [未着手] load_issues()の実装
- [ ] [未着手] gzip圧縮のテスト
- [ ] [未着手] gzip圧縮の実装

### 4.3 DuckDBストア
- [ ] [未着手] DuckDBStoreの構造定義
- [ ] [未着手] スキーマ設計と作成
- [ ] [未着手] save_issues()のテスト
- [ ] [未着手] save_issues()の実装
- [ ] [未着手] load_issues()のテスト
- [ ] [未着手] load_issues()の実装
- [ ] [未着手] クエリ処理の最適化

### 4.4 設定ストア
- [ ] [未着手] 設定保存のテスト
- [ ] [未着手] 設定保存の実装
- [ ] [未着手] 設定読込のテスト
- [ ] [未着手] 設定読込の実装

## Phase 5: 統合テストとリリース（Week 6）

### 5.1 統合テスト
- [ ] [未着手] エンドツーエンドテストの作成
- [ ] [未着手] 実際のJIRA APIとの統合テスト
- [ ] [未着手] パフォーマンステスト
- [ ] [未着手] エラーシナリオテスト

### 5.2 最適化と改善
- [ ] [未着手] 並行処理テストの作成
- [ ] [未着手] 並行処理の最適化
- [ ] [未着手] メモリ効率の改善
- [ ] [未着手] エラーメッセージの改善

### 5.3 ドキュメント
- [ ] [未着手] APIドキュメントの作成
- [ ] [未着手] 使用例の作成
- [ ] [未着手] README.mdの作成
- [ ] [未着手] CHANGELOG.mdの作成

### 5.4 リリース準備
- [ ] [未着手] クレート公開の準備
- [ ] [未着手] CI/CDパイプラインの設定
- [ ] [未着手] crates.ioへの公開準備
- [ ] [未着手] バージョン1.0.0のリリース

## 進行状況サマリー

| Phase | タスク総数 | 完了 | 進行中 | 未着手 | 進捗率 |
|-------|-----------|------|--------|--------|--------|
| Phase 1 | 17 | 17 | 0 | 0 | 100.0% |
| Phase 2 | 22 | 15 | 0 | 7 | 68.2% |
| Phase 3 | 13 | 0 | 0 | 13 | 0.0% |
| Phase 4 | 16 | 0 | 0 | 16 | 0.0% |
| Phase 5 | 15 | 0 | 0 | 15 | 0.0% |
| **合計** | **83** | **32** | **0** | **51** | **38.6%** |

## 注記

- 各タスクはRed-Green-Refactorサイクル（TDD）に従う
- テスト作成後に実装を行うワークフローを厳守
- エラー処理とエッジケースを重視した実装
- 進捗は毎週レビューして更新

最終更新日: 2025-07-21